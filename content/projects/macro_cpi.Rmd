---
title: "Macrohistory"
author: "qi ren"
date: "2023-09-13"
output:
  pdf_document:
    toc: yes
  word_document:
    toc: yes
  html_document:
    theme: flatly
    highlight: zenburn
    number_sections: yes
    toc: yes
    toc_float: yes
    code_folding: show
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
#| label: load-libraries
#| echo: false # This option disables the printing of code (only output is displayed).
#| message: false
#| warning: false

library(tidyverse)
library(wbstats)
library(skimr)
library(countrycode)
library(here)
library(readxl)
```

## Macrohistory

This data set comes from the MacroFinance and MacroHistory Lab based in University of Bonn. Specifically, the data set used is the [Jord√†-Schularick-Taylor Macrohistory Database](https://www.macrohistory.net/database/ "DATABASE"). This database provides comprehensive coverage of long-run macroeconomic and financial data for 18 countries since 1870.

I was introduced to this database during the "Global Capital Markets and Currencies" course taught by Prof. Helene Rey at London Business School in Autumn 2023.

Importing data to country_data and glimpse

```{r data}
country_data <- read_excel("/Users/rq/Library/CloudStorage/Dropbox/2022-2024 LBS/2023 Term 4 Courses/E306 Global Capital Markets and Currencies/Individual assignment/JSTdatasetR6.xlsx")
glimpse(country_data)
```

## Filtering

Four countries and their CPI data over the years (Germany, Portugal, USA, and Switzerland were chosen for this analysis.

```{r}
# Filter the dataframe
four_countries <- country_data %>% 
  filter(
  country == c("Australia", "UK", "Norway", "Spain")
)
four_countries %>%
  summarise(country, year, cpi) %>% 
  group_by (country)

```

## Plotting the graph

This is to plot the graph of the data, with y-axis as the CPI data, x-axis as years, and Countries were colour coded.

```{r}

ggplot(four_countries, aes(x = year, y = cpi, color = country, group = country)) +
  geom_line() +
  #geom_point() +  # Adding points can help visualize individual data points
  scale_color_manual(values = c("Australia" = "orange", "Norway" = "red", "Spain" = "purple", "UK" = "blue" )) +  # Speicify colours manually
  labs(title = "CPI Over Years by Country", x = "Year", y = "CPI") +
  theme_minimal()
```
